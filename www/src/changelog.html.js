const { htmlTemplate } = await import(`./_htmlTemplate.js?${Date.now()}`)
const { js } = await import(`./_syntaxHighlight.js?${Date.now()}`)

// language=html
export default () => htmlTemplate({
	head: `<title>Changelog</title>`,
	body: `
		<h1 id="changelog">Changelog</h1>
		<ul>
			<li>11.2.0 dashboard: show Mockaton’s version</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/11.2.0-version.png" alt="">
		</div>

		<ul>
			<li>11.1.0 new <code>config.watcherEnabled</code></li>
			<li>11.0.0 <strong>Breaking change</strong>, but of undocumented APIs.
				<ul>
					<li>
						If you use the Mockaton’s API directly (if you use the <a
						href="src/client/ApiCommander.js">Commander</a> client, there’s no
						breaking change) update the request payloads from JSON objects to
						positional JSON arrays, see the mentioned client for the updated contracts.
					</li>
					<li>
						If you use the <code>GET /mockaton/state</code> API, broker objects are
						now flat. IOW, there&#39;s no <code>currentMock</code> object wrapper in them.
					</li>
				</ul>
			</li>
		</ul>

		<hr>

		<ul>
			<li>10.7.0 dashboard: animate in newly added mocks</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/10.7.0-newly-added-anim.gif" alt="">
		</div>

		<ul>
			<li>10.6.0 dashboard: arrow navigation</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/10.6.0-arrow-nav.gif" alt="">
		</div>

		<ul>
			<li>10.5.0 dashboard: qs option <code>?groupByMethod=false</code></li>
			<li>10.4.0 allow changing delay with wheel event</li>
			<li>10.3.1 add separators to bulk selector and don&#39;t expose internally used comment for autogenerated 500</li>
			<li>10.3.0 new api <code>commander.toggle500(method, route)</code></li>
			<li>10.2.0 reject malicious URLs</li>
			<li>10.1.0 dashboard: toggle delay with click-drag</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/10.1.0-click-drag-toggle.gif" alt="">
		</div>

		<ul>
			<li>10.0.0 <strong>Breaking Change</strong>: <code>Mockaton</code> constructor is now async.
				So if you launch it programmatically, change:

				${js`
Mockaton()
// to
await Mockaton()
				`}
			</li>
		</ul>

		<hr>

		<ul>
			<li>9.6.0 dashboard: persist <code>groupByMethod</code> preference in localStorage</li>
			<li>9.5.0 cli: new <code>config.logLevel=verbose</code></li>
			<li>9.4.0 dashboard: users can resize panels</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/9.4.0-resize-panels.gif" alt="">
		</div>

		<ul>
			<li>9.3.0 handle head requests for get mocks</li>
			<li>9.2.0 dashboard: syntax highlight more xml files (such as html)</li>
			<li>9.1.0 cli: new flag: <code>--no-open</code></li>
			<li>9.0.0 <strong>Breaking Change</strong>: Commander’s GET APIs have been consolidated into <code>commander.getState()</code>.
				These were undocumented APIs, so you are likely not affected.
			</li>
		</ul>

		<hr>

		<ul>
			<li>8.27.0 dashboard: group by method checkbox</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/8.27.0-group-by-method.gif" alt="">
		</div>

		<ul>
			<li>8.26.0 ui simplify mock-selector label text</li>
			<li>8.25.0 <code>--quiet</code> and <code>config.logLevel</code> options</li>
			<li>8.24.0 show iso date in logs and log static file dispatch</li>
			<li>8.23.0 cli</li>
			<li>8.22.0 xml syntax highlight</li>
			<li>8.21.0 responsive mock list</li>
			<li>8.20.0 revert progress bar (no clock spinner)</li>
			<li>8.19.0 move puppeteer and pixaton to devDeps</li>
			<li>8.18.0 cors. allow <code>&#39;authorization&#39;</code> header by default</li>
			<li>8.17.0 conditionally render proxy toggler</li>
			<li>8.16.0 watch static mocks dir</li>
			<li>8.15.0 add <code>config.delayJitter</code></li>
			<li>8.14.0 static files controls</li>
			<li>8.13.0 dashboard: dim repeated dirs</li>
		</ul>
		<div class="RegionImg">
			<img src="static/media/8.13.0-ditto-dirs.png" alt="">
		</div>

		<ul>
			<li>8.12.0 add <code>config.formatCollectedJSON</code></li>
			<li>8.11.0 allow all the HTTP methods Node.js supports</li>
			<li>8.10.0 dashboard: global delay field</li>
			<li>8.9.0 long poll Add or Remove mocks</li>
			<li>8.8.0 allow proxying individual routes</li>
			<li>8.7.0 dashboard: highlights and previews 500 mocks when checking the 500 toggler</li>
			<li>8.6.0 dashboard: save proxied checkbox</li>
			<li>8.5.0 add demo-app-vite</li>
			<li>8.4.0 auto register/unregister mocks</li>
			<li>8.3.0 feat <code>config.collectProxied</code></li>
			<li>8.2.0 Allow changing proxy fallback server from UI</li>
			<li>8.1.0 describe http status code in payload viewer title</li>
			<li>8.0.0 <strong>Breaking change</strong>: <code>config.plugins</code> are no longer an Object. Now they are an Array and the
				test is now a regex. So if you use custom plugins, change e.g.:

				${js`
plugins = {
  '.js': jsToJsonPlugin,
  '.ts': jsToJsonPlugin
}
// to
plugins = [
  [/\\.(js|ts)$/, jsToJsonPlugin], // Default 
]
`}
			</li>
		</ul>


		<ul>
			<li>7.8.0 support userland plugins</li>
			<li>7.7.0 TypeScript mocks support</li>
			<li>7.6.0 render list of static files</li>
			<li>7.5.0 allowing previewing mock images</li>
			<li>7.4.0 progress bar for payload viewer</li>
			<li>7.3.0 Allow CORS Checkbox</li>
			<li>7.2.0 add content-type as default header when allowing cors</li>
			<li>7.1.0 CORS support</li>
			<li>7.0.0 <strong>Breaking change</strong>: Split <code>PATCH mockaton/edit</code> into <code>selectMock</code> and <code>setRouteIsDelayed</code>.
				So instead of:

				${js`
fetch(addr + '/mockaton/edit', {
  method: 'PATCH',
  body: JSON.stringify({
    file: 'api/foo.200.GET.json',
    delayed: true // optional
  })
})

// change it to
await commander.select('api/foo.200.GET.json')
await commander.setMockIsDelayed('api/foo.200.GET.json', true)
`}
			</li>
		</ul>

		<hr>

		<ul>
			<li>6.4.0 Default mock could be selected with the comment <code>(default)</code></li>
			<li>6.3.0 422 when trying to change a mock that doesn&#39;t exist on a route that has mocks</li>
			<li>6.4.0 no partial comment search</li>
			<li>6.3.0 Allow extending the mime list</li>
			<li>6.2.0 Add <code>config.ignore</code> regex</li>
			<li>6.1.0 remove <code>config.allowedExt</code></li>
			<li>6.0.0 <strong>Breaking change</strong>: Remove feature for using .md files for documentating APIs</li>
		</ul>

		<hr>

		<ul>
			<li>5.0.0 <strong>Breaking change</strong>: .md files no longer use status code in the extension</li>
			<li>4.0.0 <strong>Breaking change</strong>: rename <code>config.open</code> to <code>config.onReady</code></li>
			<li>3.0.0 <strong>Breaking change</strong>: <code>config.skipOpen</code> boolean to <code>config.open</code> function</li>
		</ul>

		<hr>

		<ul>
			<li>2.3.0 style dashboard</li>
			<li>2.2.0 Allow injecting <code>extraHeaders</code></li>
			<li>2.1.0 make auto-generate 500&#39;s configurable</li>
			<li>2.0.0 <strong>Breaking change</strong>: Transforms no longer get a mock</li>
		</ul>

		<hr>

		<ul>
			<li>1.1.0 Allow writing JSON mocks in JS</li>
		</ul>
	`
})
