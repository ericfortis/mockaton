const { htmlTemplate } = await import(`./_htmlTemplate.js?${Date.now()}`)

// language=html
export default () => htmlTemplate({
	head: `<title>Motivation</title>`,
	body: `
		<h1 id="motivation-">
			Motivation
		</h1>
		<p>
			Sometimes the flow we need is too difficult to reproduce from the actual backend.
		</p>

		<h2>Simulating State Changes</h2>
		<p>
			For instance, on a design review, when I’m asked to show what
			happens when API recovers from an error, I cycle on and off the
			autogenerated <code>500</code> response.
		</p>
		<p>
			Similarly, when short-polling APIs, say, a slow to generate backend
			resource. I start with a <code>404</code> or<code>204</code>
			(No Content) mock, and then I switch it over to a <code>200</code>.
		</p>


		<h2>Simulating Third-Party APIs</h2>
		<p>
			Backend developers can use Mockaton for triggering
			complex flows and errors on external APIs as well.
		</p>


		<h2>Generating Dynamic Responses</h2>
		<p>
			Sometimes I need to mock out filesystem resources I’m not allowed to
			see (for instance, sensitive <abbr title="Personally Identifiable Information">PII</abbr> documents). In those cases, I put a
			bunch of documents on <code>config.staticDir</code> and I read that
			file structure with a <a href="/functional-mocks">Functional Mock</a>
			and generate links to them.
		</p>

		<p>
			Functional mocks can pretty much do anything you can do
			with a normal backend request handler. For example, you can:
		</p>
		<ul>
			<li>have an in-memory database</li>
			<li>read from disk</li>
			<li>parse the query string, e.g., for pagination</li>
		</ul>


		<h2>Seeing all Permutations</h2>
		<p>
			Comprehensive states help to spot inadvertent
			regressions. See the color cards example below.
		</p>
		<p>
			Also, these deterministic states simplify setting up screenshot tests (see <a
			href="https://github.com/ericfortis/mockaton/tree/main/pixaton-tests"
			target="_blank">pixaton-tests/</a> in the repo).
		</p>

		<div class="RegionImg" data-max-width="740">
			<img src="assets/media/demo-app.png" alt="Mockaton Demo App Screenshot" />
		</div>


		<h2>Working Around Unstable Dev Backends</h2>
		<p>
			This was my main motivation, as a frontend developer I was
			wasting too much time syncing the database and spinning up dev
			infrastructure. Sometimes I was blocked by its instability.
		</p>
		<p>
			Also, sometimes I was blocked by waiting for backend APIs to be ready. So
			having a real HTTP server helped me trust the integration ahead of time.
		</p>

		
		<h2>Time Travel</h3>
		<p>
			I commit the mocks to the repo, so I don’t have to downgrade
			backends when checking out long-lived branches or bisecting bugs.
		</p>
	`
})
